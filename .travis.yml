language: python
python:
- '3.6'
before_install:
- openssl aes-256-cbc -K $encrypted_3b9f0b9d36d1_key -iv $encrypted_3b9f0b9d36d1_iv
  -in secrets.tar.enc -out secrets.tar -d
- tar xvf secrets.tar
- mv google_compute_engine /home/travis/.ssh/
- chmod 0600 /home/travis/.ssh/google_compute_engine
install:
- pip install -r ./requirements.txt
script:
- molecule --debug create && molecule --debug converge && molecule --debug verify
after_script:
- molecule destroy
env:
  matrix:
  - GCE_CREDENTIALS_FILE="$(pwd)/credentials.json"
  global:
  - secure: ZBB8dsSBgH5AzZthN4r4/r9EVTQLuDxrMXR2I9jEuzCSmNyfEe/oq0kOsIendYdwcp7ecYRflbvfaH0CTKDhnqg5ww5ty/7dCQ8eTVAUdNxCn688BvWg7s2RBoCGC1kswl3ZiTH6sJe5K7gL45CrjgcEhr6If2EJW+TSvfPgwkHGEDwXTSsadV90FzcXngIc6M1RWGGUlgUibx3Q6SDL4eLQ341scJSpysBu+04j/q34DtFe00Q5uHIXWimoUtDcIZJc4IWflgBnkfNwQjw84cMgLy1P5xX8fKCDKem7SMMAgXqwpqvawYiloiH8nsi54IMR6Y9mCl/qEp4/rb4Ih7hA4UDkQJDl67ix7CicrwOGEARLkG0U+BqPBQLy1AaCTYSjiRl0ZSf8DW3UtkoThsuOOly8wf7x+LJgrNX+MN1mOhm0XtXBnzp+xlexaUuemDCXJRDvWBf1mlYk7BNcv2iJTQWlInhbS8jlWOI1IqrOjianui+TsImFTCASlLzf+OBYZ39Cs0RbXU2PGppSaeJCH7Hf6W1R5viewrwMWKhpVGtGF3GHo8kn1tPyudvT3+BwrDXB0SGd+b+976IuBhc+zaNzau1irX/PT33AsqUYqeoHT6TkiljqY1j6n12SA38F3Zp8KbHtYavYM/4I8f2BUOSgSGStdaLzl7QLNvE=
  - secure: kgv8diixeFpQxpjdHJ7fyetzZ+gEjlmSGQtKawh/y4DCuKzSSdOfAi9uAdpqxjrvVZmOVf/KdLwBOfuvq1VCtcMiu6Tq1XqBGHuEGZo7pln+5eCly/wcLVjdVSAD+Rs/6nPMxYcBUmlswPHXc/ycILGXL5Txh1rM2BxQlcw14EqgpKkjNb0wh08RE0WWd75yuqQq4YzLEfJHILyZ9F1mAAt27kRF3i6pYFoPDlUy5aZH/l5E1RvJKCnNOIbv6p1fa83hnFiTprCbXo4/qvWtoHpWmHh6BsDwTMu2hfPmc/FdEnmax/Kp7NQgR8YZQBiHDtDeEaKi5GI7r8PG1W6J6aXMfPLsqiMCEU+IlWW2Y69DZEeN77LKBatQpxTwus183iwtLjHEXiP928UJTo95i05bshcGDqLmd9+t4XNqgho02eVQN5jZF7qRnrYpVxOYETOreY5KlVQnxXRL87mbmvM92yVJi9iXufb1yLodqr3sJP5jgp1LX3dkSOW2CZiaa4TK12fFt2i3HxkuIZTNxFEPEuN83lvwXL0kRaFTn+xaPvp/eF7TTT7EsqUOarlHXclXMyxAdOVS6igBMqLLC7WjHDGsbatEk9z/N58zcJ4S59tysKQof739womjWNZGfbYX84QvQ5W2LFtRIGaBdwM4XYGbGLY1PnpMw0f2VWw=
  - secure: BTuUYtUkWG/k22KqaonReDHbTeuZovcuUbZIA1AuVAwZQfZKsjNAHObLuNO5xVo2464vuuLCi1ZUt3tIzoPb+InFPGYOTmtHwgbly02RCJam6LdPLR34ApU17T6JBeodmxnXp9tazRq810k3zZdSvNh6Y6F8JPY5cnIn5a3abYNLQPtUS24wbM9yC58kvffTVEz1NUvOrd8HdihrLIPVAFYwJWYlcOCUpWFoKf/SpviYBiSoH5GbfzwHth674oA2QU1xEV+DMeMzeNk68AEok9ZoYEdwHfmhNGMgx99/+088BLFg9o44kF21mN+q1th9+zX3cr3NWn8SQNmy0wHoKpnOMvz3ONcJXHDq6b6IxF8/inMENyjgIJl92xaCGcdetj5h6/XVX0TzYhAn/4Hn3MWBnSDUf4daHLUxZevrsZPzWA1cHfc7l7f0O0vKl39qXJmqZ93p/Nsmr8S2A3GpPlsDUA5RLb2tyg3etGMNK09NsCv4gwWlLgbmQxw5lhlYz6h9wAtONfcFyGY7eZO0VMrO+PwXutU05FNsPG38yfkeEFZvKruTgvHAIzJEyQWSD9Id33QYYJkcGBWLjAqHo9V9WuEeoRrWwkCeSvhVjYltfkt9rkqtUU+3RtFBKg3Ezu6xPRbiSRreNjDloeylY6ek1g0gLN/vsPMd9vHhzW8=
notifications:
  slack:
    secure: XoZ+tsyF2SFtFD+AzU7VSuO8x6FqjhwGLpZVBRWMnkWKsPZZg87VRfrhbFMUaPej2PbEoecTKJkdyBVBHCMvdCReyfvmKYmh7eWIuweBjQGgiIXXk4+b+GsXwj3Yc8uakUTIZsVuIpFALYklykiXFcTH5CiPkpjLh9Na8HgE0DnD4pfFOLTG/zM1YUs1YHzo+bG8jZezsPKgivGApxKnklFoOugFw5XsLlcVDbTB8c3ISqe8792Rf+3QGINl87Wf+soiaPJA3cVJbvU8w+AzSjsLQcisq0E0fa91Kzt3cnRViE+LXdgqlAsRjGx3uuHWp9lIhd5YIxky3cSci8zJQjMBkKppOyPGyXU9XwZVb0ie3Yj5w9/GDItmQkJR1OmT1mQ73NfxjCnS9fwMuZZzMwnTOJjcwhPPPfzdmSclK0QGrCqKzRvUu5sK0ujUno8VnxO44OuDvYcsdcQzSqmLfkHhV46QgxtEh4iK/DCHJ7bjPmhAYWzW4zS/JW7V9oFFDNT+J4BCu0R8MkHVcr/aqssVw6DSGmoWzJ1kMgLTzarQxhLJlEkVIUoMhG426GspJhljMyEudtfIaGsh7pFE88r1RXLGUdly9Dmx1CXa7UJvQV/rdFsChQn3dEuenCjHzdx5iMY2deF+qmWly9C6aSREUJGDJdTViNaU/f4VMjo=
